<!doctype html>

<html lang="en">
<head>
    <title>Cycle Colors</title>
</head>

<body>
    <script src="../src/core.js"></script>
    <script src="../src/widgets.js"></script>
    <script src="../src/color.js"></script>

    <script>
        /**
         * This example shows how easy it is to manipulate 
         * color with TkColor. 
         * 
         * The program will cycle back and forth between the 
         * lowest and highest hue (0 - 360) on an infinite loop.
         * 
         * As it's cycles, it finds the most readable text 
         * color (either black or white) and displays the current
         * color in all possible forms: HSLA, RGBA, hex, and
         * named (if there is a named CSS color that matches it).
         */

        // Declare all the widgets
        let body = new TkWidget({ from: "body" });
        let hslaText = new TkWidget({ tag: "p", parent: body });
        let rgbaText = new TkWidget({ tag: "p", parent: body });
        let hexText = new TkWidget({ tag: "p", parent: body });
        let namedText = new TkWidget({ tag: "p", parent: body });

        // The color to cycle through
        let color = new TkColor("hsl(0, 100%, 50%)");
        let increasing = true;

        setInterval(() => {
            if(color.h == 360) // When 360 is hit, start decreasing
                increasing = false;
            else if (color.h == 0) // When 0 is hit, start increasing
                increasing = true;

            // Increment/decrement the hue
            if(increasing)
                color.h++;
            else
                color.h--;

            // Set the background color
            body.style.backgroundColor = color.asHsla();
            // Find the best color to contrast with the current
            // color and set it as the text color
            body.style.color = color.isLight() ? "black" : "white";

            // Display the current color in all the
            // possible formats
            hslaText.innerText = color.asHsla();
            rgbaText.innerText = color.asRgba();
            hexText.innerText = color.asHex();
            namedText.innerText = color.asName();
        }, 150);
    </script>
</body>
</html>
