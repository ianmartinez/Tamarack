<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- Bootstrap core CSS -->
		<link href="../bootstrap/css/bootstrap.css" rel="stylesheet">
		<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
		<link href="../bootstrap/css/ie10-viewport-bug-workaround.css" rel="stylesheet">
		<!-- Tamarack CSS -->
		<link href="../tamarack/tamarackStyle.css" rel="stylesheet">
	</head>
	<body>
		<!-- Bootstrap core JavaScript -->
		<script src="../jquery/jquery.min.js"></script>
		<script src="../bootstrap/js/bootstrap.min.js"></script>
		<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
		<script src="../bootstrap/js/ie10-viewport-bug-workaround.js"></script>  

		<!-- Tamarack -->
		<script src="../tamarack/tamarackCore.js"></script>
		<script src="../tamarack/tamarackUI.js"></script>
		
		<script>
			(
				function main()
				{
					var doc = new tkDocument();
					var slideshow = new tkSlideshow();
					var videos = ["1.mp4","2.mp4","3.mp4"];
					var captions = ["Jellyfish","Bird","Aurora"];
					var videoControls = [];
					
					doc.title = "Playlist Demo";
					doc.putHeader("Playlist Demo","h1");
					
					for (var i=0; i<videos.length; i++)
					{
						var slide = new tkSlide();
						var video = new tkVideoPlayer();
						video.loaded = function() {
							var vi = extractVideoInfo(video.video.e);
							var resolution_caption = new tkText("p");
							resolution_caption.e.className = "caption";
							resolution_caption.text = "Resolution Bracket:" + vi.resolution.getResolutionBracket();		
							slide.addContent(resolution_caption.e);					
						};
						video.source = videos[i];
						video.setDimensions(700,500);

						var caption = new tkText("p");
						caption.e.className = "caption";
						caption.text = captions[i];
						
						slide.addContent(video.e);
						slide.addContent(caption.e);
						slideshow.addPage(slide);
						videoControls.push(video);
					};	
					
					var backButton = new tkButton();
					backButton.e.className = "tkRedButton";
					backButton.text = "<";
					backButton.e.onclick = () => 
					{
						slideshow.back();
					};
					
					var nextButton = new tkButton();
					nextButton.e.className = "tkRedButton";
					nextButton.text = ">";
					nextButton.e.onclick = () => 
					{
						slideshow.next();
					};
					
					var fullScreenButton = new tkButton();
					fullScreenButton.text = "Make Fullscreen";
					fullScreenButton.e.onclick = () => 
					{
						videoControls[slideshow.getActiveIndex()].makeFullscreen();
					};
					
					backButton.addToElement(document.body);
					nextButton.addToElement(document.body);
					fullScreenButton.addToElement(document.body);
					slideshow.addToElement(document.body);
				}
			)();
		</script>
	</body>
</html>