<!doctype html>

<html lang="en">

<head>
    <title>Modal</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="../src/tamarack.css" rel="stylesheet" type="text/css" />
    <script src="../src/core.js"></script>
    <script src="../src/view.js"></script>
    <script src="../src/app-views.js"></script>
    <script src="../src/app.js"></script>
    <!-- For icons -->
    <script type="module" src="https://unpkg.com/ionicons@5.1.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule="" src="https://unpkg.com/ionicons@5.1.2/dist/ionicons/ionicons.js"></script>
</head>

<body>
    <script>
        // Init Tamarack App so we can support dark mode and other nice things
        TkApp.init({ autolayout: false });
        
        /**
         * Show a modal when a button is clicked and evaluate the
         * modal's result.
         */
        let button = new TkButton({
            parent: "body",
            text: "Show a modal"
        });

        let modal = new TkModal({
            iconName: "help-outline",
            title: "Question...",
            message: "Do you like tamarack?",
            choices: [TkChoice.YES, TkChoice.NO],
            defaultChoice: TkChoice.YES
        });
        button.on("click", () => modal.show());

        // Fires when the modal is closed, you 
        // can also pass a function as the parameter
        // of the modal.show(callback) function to
        // achieve the same effect
        modal.on("modalclosed", () => {
            switch (modal.result) {
                case TkChoice.YES:
                    TkModal.alert("Thanks!");
                    break;
                case TkChoice.NO:
                    TkModal.alert("Well then...");
            }
        });
    </script>
</body>

</html>